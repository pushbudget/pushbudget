<ion-view view-title="Budgets">
  <ion-content>

    <pb-budgetbar  total="totalUserBudget" spent="totalUserSpent"></pb-budgetbar>

    <label class="item item-input" id="budget-remainingLabel">
      <span class="input-label">Budget Remaining</span> {{totalUserRemain}}
    </label>

    <label class="item item-input" id="budget-untaggedLabel">
      <span class="input-label">Untagged Transactions</span> {{totalUntagged}}
    </label>

    <label class="item item-input" id="budget-savingsLabel">
      <span class="input-label">Savings Goal</span> {{totalUserSavings}}
    </label>

    <div class="list" >
      <a ui-sref="main.budgetSetup" id="home-transLink">
        <div class="item item-divider">
          Spending Breakdown
        </div>
      </a>
      <br />
      <canvas  id="pie" class="chart chart-pie" chart-click="onClick"
          chart-data="chart.values" chart-labels="chart.labels" chart-colours="chart.colors" chart-options="chart.options">
      </canvas>
    </div>

      <div id="home-budgetBox">
        <div class="item item-divider" id="home-budgetBoxHeader">
          <div class="row no-padding">
            <div class="col no-padding  col-center">
              Budgets
            </div>
            <div class="col no-padding text-right">
              <button class="button icon ion-gear-a button-positive" ui-sref="main.budgetSetup">
            </div>
          </div>
        </div>
        <div id="home-budgetBox">

          <div class="row" id="home-budgetBoxItem" style="border-left: 10px solid {{item.color}}" ng-repeat="item in userSubBudgets">
            <div class="col col-50 col-center" >
              <div class="row no-padding" id="budgetSetup-catRows" >
                <div class="col no-padding" id="budgetSetup-catName">
                  {{item.category}}
                </div>
              </div>
              <div class="row no-padding">
                <div class="col no-padding">
                  ${{item.sum}} / ${{item.allocated}}
                </div>
              </div>
            </div>
            <div class="col col-50 no-padding col-center">
              <div id="home-budgetBoxBar">
                <div id="home-budgetBoxBarFill" class="positive-bg" ng-style="setWidth(item)">
                </div>
              </div>
            </div>
          </div>




      </div>
  </ion-content>
</ion-view>
