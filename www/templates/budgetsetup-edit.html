<ion-modal-view>
  <ion-header-bar class="bar-positive" >
      <div class="buttons">
        <button class="button button-icon icon ion-ios-minus-outline"
          ng-click="data.showDelete = !data.showDelete; data.showReorder = false "></button>
      </div>
        <h1 class="title">Edit Categories</h1>
      <div class="buttons">
        <button class="button button-icon icon ion-navicon"  ng-click=" data.showDelete = false; data.showReorder = !data.showReorder">
        </button>
      </div>
    </ion-header-bar>

    <ion-content>

      <ion-list show-delete="data.showDelete" show-reorder="data.showReorder">
        <ion-item ng-repeat="item in budgetCategories" item="item" href="#/item/{{item.id}}" class="item-remove-animate" style="border-left: 10px solid {{item.color}}" ng-init="item.newColor = item.color">


          <div class="row no-padding" id="budgetSetp-editRow">



            <div class="col col-50" id="budgetSetup-editNameInput">
              <div class="item item-input-inset no-padding">
                <label class="item-input-wrapper no-padding" >
                  <input type="text" placeholder="{{item.category}}" ng-init="newName=item.category" ng-model="newName">
                </label>
              </div>
            </div>

            <div class="col col-25" id="budgetSetup-editValueInput">
              <div class="item item-input-inset no-padding">
                <label class="item-input-wrapper no-padding" >
                  $<input type="text" placeholder="{{item.totalDisplay}}"  ng-model="item.newTotal">
                </label>
              </div>
            </div>

            <div class="col" id="budgetSetup-editSave" ng-if="item.goodData">
              <button class="button button-small" id="add-border"  ng-click="item.newName = newName;  saveEdit(item)">
                  Save
              </button>
            </div>
            <div class="col" id="budgetSetup-editSave" ng-if="!item.goodData">
              <button class="button button-small button-assertive" id="add-border"  ng-click="item.newName = newName; saveEdit(item)">
                  Save
              </button>
            </div>
            {{$index}}
          </div>


          <i class="icon ion-drag rotate-90" id="budgetSetup-drag"></i>
          <ion-delete-button class="ion-minus-circled" ng-click="deleteCategory(item)">
          </ion-delete-button>
          <ion-option-button ng-click="changeColor(item)" style="background-color: {{item.newColor}}" >
            <i class="icon ion-paintbrush" ></i>
          </ion-option-button>
          <ion-reorder-button class="ion-navicon no-padding" on-reorder="moveItem(item, $fromIndex, $toIndex)"></ion-reorder-button>
        </ion-item>
      </ion-list>
      <div class="row">
        <div class="col">
          <button class="button icon-left ion-chevron-down button-clear button-dark" ng-click="data.showDelete = false; data.showReorder = false; closeModal()">Back</button>
        </div>
        <div class="col col-center text-right" id="budgetSetup-editUnallocated">
          ${{unallocated}} Unbudgeted
        </div>
      </div>

    </ion-content>
  </ion-modal-view>
